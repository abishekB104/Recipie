const recipes = [
    {
        name: "Ambur Biryani",
        ingredients: ["3 cups of seeraga samba rice",
        "3 pounds or one whole chicken, cut to large chunks with bone",
        "1 extra large red onion or 3 small onions, cut to lengthwise",
        "10-15 red chilies",
        "10 cloves garlic, peeled",
        "2 inches ginger, peeled and chopped",
        "4 small tomatoes, chopped",
        "1 packed cup mint leaves, chopp",
        "⅓ cup of veg oil",
        "2 tbsp ghee",
        "5 whole cardamom",
        "1 star anise",
        "½ cup full fat sour yogurt",
        "Juice of one lemon",
        "⅓ tsp turmeric powder",
        "Salt",
        "1 tbsp biryani masala",
        "5 cups of water",
        "3 black cardamom / badi elachi",
        "3 star anise / chakkar phool",
        "2 inch cinnamon stick / dalchini",
        "1 nutmeg / jaayaphal",
        "1 tbsp pepper / kali mirch"],
        instructions: ["* Wash the rice gently and Soak for 30 minute.",
         "* Wash the chicken with turmeric and drain the water and let it sit.Cut the onions lenghtwise.",
         "* In a bow, add the red chilies, ginger and garlic. Let soak for 10 minutes in boiling water.",
         "* Grind to a paste. Set aside.Chop the tomatoes.Cut the mint and cilantro.",
         "* Take a heavy bottomed large pot to make the biryani.Add oil and ghee.",
        "* Add the onions and reduce the heat to medium. Cook the onions till it almost crispy and super soft.",
        "* Saute and cook the paste until it loses it's raw smells of the ginger and garlic, this will take anywhere from 5 to 10 minutes on low heat.",
        "* Add the mint and cilantro and cook for another 2 minutes before you add the tomatoes. ",
        "* Cook the tomatoes for 2 minutes.Add the chicken, add salt, biryani masala and turmeric powder.",
        "* Keep mixing and tossing the chicken very well and cook it until about 70 percent cooked.",
        "* Add the yogurt. Mix very well. You should have very less liquid at this point.",
        "* The water from the tomatoes should've evoporated.Pour the rice in. and the water. Mix well, check for salt.",
        "* Once the rice with chicken comes to a bubble, pour in the juice of the lemon, Cover the pot with a secure tight lid, important.",
        "* Now, using a heavy bottomed tawa, put the pot on the tawa and cook on dum for 30 minutes. The flame has to be very low, on simmer.",
        "*After 30 minutes, switch off the flame and bring the pot on the countertop and let it sit for another 30 minutes before serving"],
        imageUrl: "Ambur-Biryani.jpg"
    },
    {
        name: "Madurai Kari Dosa",
        ingredients: ["Coriander Seeds 1.00 tbsp",  
        "Cumin 1.50 tsp",
        "Black Peppercorns 1.00 tsp",
        "Dry Red Chilli 6.00 no",
        "Cinnamon 1.00 inch",
        "Cloves 4.00 no",
        "Green Cardamom 2.00 no",
        "Sunflower Oil 3.00 tbsp",
        "Fennel Seeds 1.00 tsp",
        "Curry leaves 2.00 sprigs",
        "Onion 1.50 cup",
        "Green Chilli  3.00 no",
        "Ginger Garlic Paste 1.50 tbsp",
        "Turmeric Powder 0.50 tsp",
        "Tomato 0.50 cup",
        "Salt 1.00 tsp",
        "Mutton (minced) 500.00 grams",
        "Water 1.00 cup",
        "Coriander Leaves 2.00 tbsp",
        "Eggs 3.00 no",
         "Dosa Batter 6.00 cup",
        "Gingelly Oil 6.00 tsp",
        "Black Pepper Powder 1.00 tsp",
        "Onion 4.00 tbsp",
        "Coriander Leaves 2.00 tbsp",
        "Curry leaves 1.00 tbsp"],
        instructions: ["* Dry roast the spices until aromatic. Blend it into a powder.",
        "* Heat oil and add the fennel seeds, curry leaves, onion and green chilli. Saute until the onion starts to turn golden brown",
        "* Add the ginger garlic paste and saute for 1-2 minutes or until the raw smell disappears",
        "* Add the tomato, turmeric powder and salt. Saute for 2 minutes.",
        "* Add the prepared masala and the mutton mince and saute for 2 minutes, breaking down any lumps",
         "* Add the water, cover and cook for 20 minutes on low heat, until the meat is cooked and the oil floats on top",
        "* Allow it to cool down. Then crack eggs into it and mix. Set aside.",
        "* In a bowl, mix together onion, coriander leaves, and curry leaves. Mix and set aside",
        "* Heat a tawa and grease it lightly with oil. Spread a ladle of Dosa batter slightly thick. Add the mutton mixture, onion mix and black pepper powder on top. Drizzle some gingelly oil on the sides.",
        "* Flip it and cook on medium heat for 2 minutes. Remove from the heat and serve."],
        imageUrl: "kari-dosa.jpg"

    },
    {
        name: "Chettinad Chicken Curry",
        ingredients: ["1 tbsp coriander seed",
        "3 whole dried red chilies I like kashmiri 1/2 tsp cumin seed" ,
        "1/2 tsp poppy seed 1/4 tsp black peppercorns",
        "1 inch cinnamon bark 2 arms from one star anise – just break a couple arms off ",
        "1 clove clove whol 2 green cardamom wholepinch ajwain ",
        "5 tsp chettinad masala – from above (you will have some left over) ",
        "2 tsp kashmiri chili powder 1/2 tsp turmeric 2/3 tsp coarse black pepper  ",
        "1 1/2 tsp kosher salt"],
        instructions: ["* Into one small bowl measure out the coriander seed, cinnamon bark, peppercorns, star anise arms, clove and green cardamom. ",
        "* These are your spices.Into a second small bowl measure out the cumin seed, poppy seed and ajwain. ",
        "* These are your. Pre-heat a small skillet over medium-low heat.Add the big spices. ",
        "* Toast, constantly shaking the pan until the wonderful smell starts hitting your nose. ",
        "* This should take under 2 minutes.Add the little spices and toast around 30 seconds. ",
        "* Add the kashmiri chilies and toast another 30 seconds or so. Flip the chilies about half way through the final 30 seconds. ",
        "* Remove from heat. Let cool. Transfer the cooled spices to a spice grinder. ",
        "* I have a little dedicated spinning blade style coffee grinder for this. ",
        "* Makes terrible coffee. But it grinds spices well. Set aside."],
        imageUrl: "chettinad.jpg"

    },
    {
        name: "Madurai Famous Jigarthanda",
        ingredients: ["Badam pisin",
        "Nannari sarbath",
        "Reduced milk",
        "Ice cream made from reduced milk,"],
        instructions: ["* First rinse and then take 2 teaspoons badam pisin (katira gond or almond gum) in a large bowl.",
        "* If the badam pisin are larger in size, then you can crush them in a mortar-pestle and then add.Add 2 cups water.",
        "* Cover the bowl with a lid and let the badam pisin soak in water overnight or for 8 to 9 hours.",
        "* The next day you will see the badam pisin increases in volume, blooms and become jelly like. ",
        "* After soaking, if it becomes too tightened up then you can add some more water.Strain the extra water from the soaked badam pisin in a strainer and keep it aside. You can also refrigerate the soaked badam pisin. ",
        "* If there are impurities then rinse in strainer to get rid of them.Now in another bowl or a small pan, take 4 tablespoons of condensed milk.Add 2 cups of chilled milk. With a spoon or wired whisk, mix very well. Keep aside or keep in the fridge.In a glass add 2 to 3 tablespoons of soaked almond gum or badam pisin.Add 2 to 3 teaspoons of nannari syrup.",
        "* Then add 1 cup of the condensed milk and milk mixture. Add 1 scoop of vanilla ice cream or dry fruits ice cream or pistachio ice cream.",
        "* Drizzle some nannari syup from the top. You can also add some dry fruits or tutti frutti or glazed cherries."],
        imageUrl: "jigar.jpg"

    }
];

function addRecipe() {
    const recipeName = document.getElementById('recipeName').value;
    const ingredients = document.getElementById('ingredients').value;
    const instructions = document.getElementById('instructions').value;
    const imageInput = document.getElementById('image');
    const imageFile = imageInput.files[0];
    
    // Read image file
    const reader = new FileReader();
    reader.onload = function(event) {
        const imageUrl = event.target.result;

        // Create recipe object
        const recipe = {
            name: recipeName,
            ingredients: ingredients.split('\n'),
            instructions: instructions.split('\n'),
            image: imageUrl
        };

        // Add recipe to list
        const recipeList = document.getElementById('recipes');
        const li = document.createElement('li');
        li.innerHTML = `
            <h3>${recipe.name}</h3>
            <img src="${recipe.image}" alt="${recipe.name}" width="200"><br>
            <p><strong>Ingredients:</strong><br>${recipe.ingredients.join('<br>')}</p>
            <p><strong>Instructions:</strong><br>${recipe.instructions.join('<br>')}</p>
        `;
        recipeList.appendChild(li);

        // Clear form fields
        document.getElementById('recipeName').value = '';
        document.getElementById('ingredients').value = '';
        document.getElementById('instructions').value = '';
        imageInput.value = '';
    };
    
    if (imageFile) {
        reader.readAsDataURL(imageFile);
    }
}

document.addEventListener("DOMContentLoaded", function() {
    const recipeContainer = document.getElementById("recipe-container");
    const addRecipeBtn = document.getElementById("add-recipe-btn");
    const recipeForm = document.getElementById("recipe-form");
    const addRecipeForm = document.getElementById("add-recipe-form");

    addRecipeBtn.addEventListener("click", function() {
        recipeForm.style.display = "block";
    });

    addRecipeForm.addEventListener("submit", function(event) {
        event.preventDefault();
        const name = document.getElementById("recipe-name").value;
        const ingredients = document.getElementById("recipe-ingredients").value.split("\n");
        const instructions = document.getElementById("recipe-instructions").value;
        const imageUrl = document.getElementById("recipe-image-url").value; 

        const newRecipe = { name, ingredients, instructions, imageUrl };
        recipes.push(newRecipe);
        renderRecipes();
        recipeForm.style.display = "none";
        addRecipeForm.reset();
    });

    function renderRecipes() {
        recipeContainer.innerHTML = "";
        recipes.forEach(recipe => {
            const recipeDiv = document.createElement("div");
            recipeDiv.classList.add("recipe");

            recipeDiv.innerHTML = `
                <h1>${recipe.name}</h1>
                <img src="${recipe.imageUrl}" alt="${recipe.name}"> <!-- Add the image -->
                <h3><strong>Ingredients:</strong><br>${recipe.ingredients.join('<br>')}</h3>
                <h3><strong>Instructions:</strong><br>${recipe.instructions.join('<br>')}</h3>
             
            `;

            recipeContainer.appendChild(recipeDiv);
        });
    }
    renderRecipes();
    
});
